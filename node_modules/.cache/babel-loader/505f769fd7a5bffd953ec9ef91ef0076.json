{"ast":null,"code":"var _jsxFileName = \"/Users/gracetan/Development/module-projects/module-five-project/project-prospect-frontend/src/components/SearchResultsTable.js\";\nimport React from \"react\";\nimport { connect } from \"react-redux\";\nimport { addLead, clearMessage } from \"../actions\";\nimport Navbar from \"./Navbar\";\nimport EnhancedTable from \"./EnhancedTable\";\nconst style = {\n  backgroundImage: \"url(\".concat(\"https://scontent-ort2-2.xx.fbcdn.net/v/t1.15752-9/s2048x2048/71093458_463527317706998_6857018496128122880_n.png?_nc_cat=101&_nc_oc=AQl2gDIEaIvqJ9nlneGMjfaDHtgfbFjLjkXKrF1ATz_lG8I8Qq2SYVjDCYwbysjSCwM&_nc_ht=scontent-ort2-2.xx&oh=644556da3c91d328452fcb67714c1c7d&oe=5E3A8CD8\", \")\"),\n  backgroundSize: \"cover\",\n  width: \"100%\",\n  height: \"100%\",\n  minHeight: 1000,\n  padding: \"1em 0em\"\n};\n\nclass DataTable extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      listId: \"\",\n      leadSelection: \"\",\n      company: \"\",\n      website: \"\",\n      newListName: \"\",\n      leadsArray: [],\n      rows: [],\n      isLoading: true\n    };\n\n    this.createData = (name, last_name, email, position, company, confidence) => {\n      return {\n        name,\n        last_name,\n        email,\n        position,\n        company,\n        confidence\n      };\n    };\n\n    this.createRowData = () => {\n      let array = [];\n      this.props.leads.emails.forEach(lead => {\n        let newRow = this.createData(lead.first_name, lead.last_name, lead.value, lead.position, this.props.leads.organization, lead.confidence);\n        array.push(newRow);\n      });\n      this.setState({\n        rows: array\n      });\n      this.setState({\n        isLoading: false\n      });\n    };\n\n    this.handleSubmit = () => {\n      const _this$state = this.state,\n            leadsArray = _this$state.leadsArray,\n            company = _this$state.company,\n            website = _this$state.website,\n            listId = _this$state.listId,\n            newListName = _this$state.newListName;\n      console.log(\"SUBMIT\", this.state);\n      const userId = this.props.auth.user.id;\n      this.props.addLead(leadsArray, company, website, listId, newListName, userId);\n    };\n  }\n\n  componentDidMount() {\n    console.log(this.props.leads);\n    const array = this.props.leads;\n    this.createRowData();\n    this.setState({\n      company: array.organization,\n      website: array.domain\n    });\n  }\n\n  render() {\n    let lists = this.props.lists;\n    let listArray = lists.map(list => {\n      return {\n        key: list.id,\n        text: list.name,\n        value: list.id\n      };\n    });\n    console.log(this.state);\n\n    if (this.state.isLoading) {\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 83\n        },\n        __self: this\n      }, \"Loading\");\n    }\n\n    return React.createElement(\"div\", {\n      style: style,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86\n      },\n      __self: this\n    }, React.createElement(Navbar, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87\n      },\n      __self: this\n    }), React.createElement(EnhancedTable, {\n      clearMessage: this.props.clearMessage,\n      message: this.props.message,\n      addLead: this.props.addLead,\n      company: this.state.company,\n      website: this.state.website,\n      rows: this.state.rows,\n      listArray: listArray,\n      userId: this.props.auth.user.id,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89\n      },\n      __self: this\n    }));\n  }\n\n}\n\nconst mapStateToProps = state => {\n  return {\n    leads: state.leads,\n    lists: state.lists,\n    auth: state.auth,\n    message: state.message,\n    listWithLeadNotes: state.listWithLeadNotes\n  };\n};\n\nexport default connect(mapStateToProps, {\n  addLead,\n  clearMessage\n})(DataTable);","map":{"version":3,"sources":["/Users/gracetan/Development/module-projects/module-five-project/project-prospect-frontend/src/components/SearchResultsTable.js"],"names":["React","connect","addLead","clearMessage","Navbar","EnhancedTable","style","backgroundImage","backgroundSize","width","height","minHeight","padding","DataTable","Component","state","listId","leadSelection","company","website","newListName","leadsArray","rows","isLoading","createData","name","last_name","email","position","confidence","createRowData","array","props","leads","emails","forEach","lead","newRow","first_name","value","organization","push","setState","handleSubmit","console","log","userId","auth","user","id","componentDidMount","domain","render","lists","listArray","map","list","key","text","message","mapStateToProps","listWithLeadNotes"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport { connect } from \"react-redux\";\nimport { addLead, clearMessage } from \"../actions\";\nimport Navbar from \"./Navbar\";\nimport EnhancedTable from \"./EnhancedTable\";\n\nconst style = {\n  backgroundImage: `url(${\"https://scontent-ort2-2.xx.fbcdn.net/v/t1.15752-9/s2048x2048/71093458_463527317706998_6857018496128122880_n.png?_nc_cat=101&_nc_oc=AQl2gDIEaIvqJ9nlneGMjfaDHtgfbFjLjkXKrF1ATz_lG8I8Qq2SYVjDCYwbysjSCwM&_nc_ht=scontent-ort2-2.xx&oh=644556da3c91d328452fcb67714c1c7d&oe=5E3A8CD8\"})`,\n  backgroundSize: \"cover\",\n  width: \"100%\",\n  height: \"100%\",\n  minHeight: 1000,\n  padding: \"1em 0em\"\n};\n\nclass DataTable extends React.Component {\n  state = {\n    listId: \"\",\n    leadSelection: \"\",\n    company: \"\",\n    website: \"\",\n    newListName: \"\",\n    leadsArray: [],\n    rows: [],\n    isLoading: true\n  };\n\n  componentDidMount() {\n    console.log(this.props.leads);\n    const array = this.props.leads;\n    this.createRowData();\n    this.setState({ company: array.organization, website: array.domain });\n  }\n\n  createData = (name, last_name, email, position, company, confidence) => {\n    return { name, last_name, email, position, company, confidence };\n  };\n\n  createRowData = () => {\n    let array = [];\n    this.props.leads.emails.forEach(lead => {\n      let newRow = this.createData(\n        lead.first_name,\n        lead.last_name,\n        lead.value,\n        lead.position,\n        this.props.leads.organization,\n        lead.confidence\n      );\n      array.push(newRow);\n    });\n    this.setState({ rows: array });\n    this.setState({ isLoading: false });\n  };\n\n  handleSubmit = () => {\n    const { leadsArray, company, website, listId, newListName } = this.state;\n    console.log(\"SUBMIT\", this.state);\n    const userId = this.props.auth.user.id;\n    this.props.addLead(\n      leadsArray,\n      company,\n      website,\n      listId,\n      newListName,\n      userId\n    );\n  };\n\n\n  render() {\n    let lists = this.props.lists;\n    let listArray = lists.map(list => {\n      return {\n        key: list.id,\n        text: list.name,\n        value: list.id\n      };\n    });\n\n    console.log(this.state);\n    if (this.state.isLoading) {\n      return <div>Loading</div>;\n    }\n    return (\n      <div style={style}>\n        <Navbar />\n       \n        <EnhancedTable\n          clearMessage={this.props.clearMessage}\n          message={this.props.message}\n          addLead={this.props.addLead}\n          company={this.state.company}\n          website={this.state.website}\n          rows={this.state.rows}\n          listArray={listArray}\n          userId={this.props.auth.user.id}\n        />\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = state => {\n  return {\n    leads: state.leads,\n    lists: state.lists,\n    auth: state.auth,\n    message: state.message,\n    listWithLeadNotes: state.listWithLeadNotes\n  };\n};\n\nexport default connect(\n  mapStateToProps,\n  { addLead, clearMessage }\n)(DataTable);\n"]},"metadata":{},"sourceType":"module"}