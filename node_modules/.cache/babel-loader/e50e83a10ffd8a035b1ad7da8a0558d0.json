{"ast":null,"code":"var _jsxFileName = \"/Users/gracetan/Development/module-projects/module-five-project/project-prospect-frontend/src/components/LeadList.js\";\nimport React, { Component } from \"react\";\nimport { Grid, Image, Card, Table, Icon, Button, Pagination, Header, Modal, Form } from \"semantic-ui-react\";\nimport { Link } from \"react-router-dom\";\nimport { connect } from \"react-redux\";\nimport _ from \"lodash\";\nimport Navbar from \"./Navbar\";\nimport { deleteList, deleteListLead, addLeadNote } from \"../actions\";\nconst statusArray = [{\n  key: \"10\",\n  text: \"Meeting booked\",\n  value: \"Meeting booked\"\n}, {\n  key: \"25\",\n  text: \"Met with decision maker\",\n  value: \"Met with decision maker\"\n}, {\n  key: \"50\",\n  text: \"Proposal sent\",\n  value: \"Proposal sent\"\n}, {\n  key: \"90\",\n  text: \"Verbal confirmation\",\n  value: \"Verbal confirmation\"\n}, {\n  key: \"100\",\n  text: \"Sale closed\",\n  value: \"Sale closed\"\n}, {\n  key: \"notfit\",\n  text: \"Not fit for business\",\n  value: \"Not fit for business\"\n}, {\n  key: \"incorrect\",\n  text: \"Incorrect contact\",\n  value: \"Incorrect contact\"\n}, {\n  key: \"contact\",\n  text: \"Contact at later date\",\n  value: \"Contact at later date\"\n}];\n\nclass Dashboard extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      column: null,\n      data: null,\n      direction: null,\n      activePage: 1,\n      statusInput: \"\",\n      nextStepsInput: \"\",\n      commentsInput: \"\"\n    };\n\n    this.formattedListArray = () => {\n      // let listArray = this.props.listlead[0];\n      let listArray = this.props.lists.leads; // let leadNotesArray = this.props.leadnotes\n      // let leadnoteArray= lead.leadnotes\n      // let lastLeadnote = leadnoteArray.slice(-1)[0]\n\n      if (listArray) {\n        // console.log(\"LISTARRAY??\", listArray)\n        let array = listArray.map(lead => {\n          const oneLead = lead.lead;\n\n          if (lead.leadnotes) {\n            const leadnotesArray = lead.leadnotes;\n            const lastLeadnote = leadnotesArray.slice(-1)[0];\n            console.log(\"SLICE??\", lastLeadnote);\n            return {\n              id: oneLead.propsid,\n              first_name: oneLead.propsfirst_name,\n              last_name: oneLead.propslast_name,\n              position: oneLead.propsposition,\n              company: oneLead.propscompany,\n              status: lastLeadnote.status,\n              next_steps: lastLeadnote.next_steps,\n              comments: lastLeadnote.comments,\n              comments_date: lastLeadnote.updated_at,\n              last_date_contacted: oneLead.propscontacted_date,\n              email: oneLead.propsemail,\n              phone_number: oneLead.propsphone_number\n            };\n          }\n        });\n        console.log(\"LISTARRAY\", listArray);\n        this.setState({\n          data: array\n        });\n      }\n    };\n\n    this.handleDeleteClick = (event, lead_id) => {\n      event.preventDefault();\n      let newArray = this.state.data.filter(data => data.id !== lead_id);\n      this.setState({\n        data: newArray\n      });\n      this.props.deleteList(lead_id); // debugger\n    };\n\n    this.handleSort = clickedColumn => () => {\n      const _this$state = this.state,\n            column = _this$state.column,\n            data = _this$state.data,\n            direction = _this$state.direction;\n\n      if (column !== clickedColumn) {\n        this.setState({\n          column: clickedColumn,\n          data: _.sortBy(data, [clickedColumn]),\n          direction: \"ascending\"\n        });\n        return;\n      }\n\n      this.setState({\n        data: data.reverse(),\n        direction: direction === \"ascending\" ? \"descending\" : \"ascending\"\n      });\n    };\n\n    this.handlePageChange = activePage => {\n      this.setState({\n        activePage\n      });\n    };\n\n    this.handleChange = e => {\n      const targetValue = e.target.value;\n      const targetName = e.target.name;\n      this.setState({\n        [targetName]: targetValue\n      });\n    };\n\n    this.handleDropdown = (e, data) => {\n      const targetValue = data.value;\n      this.setState({\n        statusInput: targetValue\n      });\n    };\n\n    this.handleAddLeadNote = leadId => {\n      console.log(leadId);\n      const _this$state2 = this.state,\n            statusInput = _this$state2.statusInput,\n            nextStepsInput = _this$state2.nextStepsInput,\n            commentsInput = _this$state2.commentsInput;\n      this.props.addLeadNote(statusInput, nextStepsInput, this.props.auth.user.id, leadId, commentsInput);\n    };\n  }\n\n  componentDidMount() {\n    this.formattedListArray();\n  }\n\n  // handleFetchClick = (id) => {\n  //   this.props.thunkFetchLeadNote(this.props.auth.user.id, id)\n  // }\n  render() {\n    console.log(\"LEADLIST\", this.state);\n    const _this$state3 = this.state,\n          column = _this$state3.column,\n          data = _this$state3.data,\n          direction = _this$state3.direction,\n          activePage = _this$state3.activePage;\n    const leadnotesArray = this.props.leadnotes;\n    let dataSlice;\n\n    if (data) {\n      if (activePage === 1) {\n        dataSlice = data.slice(0, 9);\n      } else if (activePage === 2) {\n        dataSlice = data.slice(10, 19);\n      } else if (activePage === 3) {\n        dataSlice = data.slice(20, 29);\n      } else if (activePage === 4) {\n        dataSlice = data.slice(30, 39);\n      } else if (activePage === 5) {\n        dataSlice = data.slice(40, 49);\n      } else if (activePage === 6) {\n        dataSlice = data.slice(50, 59);\n      } else if (activePage === 7) {\n        dataSlice = data.slice(60, 69);\n      } else if (activePage === 8) {\n        dataSlice = data.slice(70, 79);\n      } else if (activePage === 9) {\n        dataSlice = data.slice(80, 89);\n      } else if (activePage === 10) {\n        dataSlice = data.slice(90, 99);\n      } else {\n        dataSlice = [];\n      } // return dataSlice\n\n    }\n\n    return React.createElement(\"div\", {\n      style: {\n        height: \"100%\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 175\n      },\n      __self: this\n    }, React.createElement(Navbar, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 176\n      },\n      __self: this\n    }), React.createElement(Grid, {\n      divided: \"vertically\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 177\n      },\n      __self: this\n    }, React.createElement(Grid.Row, {\n      columns: 3,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 178\n      },\n      __self: this\n    }, React.createElement(Grid.Column, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 179\n      },\n      __self: this\n    }, React.createElement(Card, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 180\n      },\n      __self: this\n    }, React.createElement(Card.Content, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 181\n      },\n      __self: this\n    }, React.createElement(Card.Header, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 182\n      },\n      __self: this\n    }, \"Total Leads\"), React.createElement(Card.Description, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 183\n      },\n      __self: this\n    }, \"XXXXXX\"), React.createElement(Image, {\n      floated: \"right\",\n      size: \"small\",\n      src: \"https://scontent-ort2-2.xx.fbcdn.net/v/t1.15752-9/71382639_511374239440274_5689414491201077248_n.png?_nc_cat=102&_nc_oc=AQmxMPkcSBw3tsH3vtHdty3xBIiwwwo1u58qIFM6JBWKhgr_vArb8fKIvHJeZbUXVHA&_nc_ht=scontent-ort2-2.xx&oh=5ecbfc218c65ca3f290c9e06988b2804&oe=5DF1636E\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 184\n      },\n      __self: this\n    })))), React.createElement(Grid.Column, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 192\n      },\n      __self: this\n    }, React.createElement(Card, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 193\n      },\n      __self: this\n    }, React.createElement(Card.Content, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 194\n      },\n      __self: this\n    }, React.createElement(Card.Header, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 195\n      },\n      __self: this\n    }, \"Open Leads\"), React.createElement(Card.Description, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 196\n      },\n      __self: this\n    }, \"XXXX\"), React.createElement(Image, {\n      floated: \"right\",\n      size: \"small\",\n      src: \"https://scontent-ort2-2.xx.fbcdn.net/v/t1.15752-9/71338480_839476829779627_88982982114672640_n.png?_nc_cat=103&_nc_oc=AQlz6riL_5nCn_aFSeq7vrwmHLIvmmoEXuFWQLi-o0ouY9NmTb65RrwrN8grKcefjAc&_nc_ht=scontent-ort2-2.xx&oh=abcf184851a1381d3c1e6f1a2655708f&oe=5DF88CFF\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 197\n      },\n      __self: this\n    })))), React.createElement(Grid.Column, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 205\n      },\n      __self: this\n    }, React.createElement(Card, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 206\n      },\n      __self: this\n    }, React.createElement(Card.Content, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 207\n      },\n      __self: this\n    }, React.createElement(Card.Header, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 208\n      },\n      __self: this\n    }, \"Another METRIC\"), React.createElement(Card.Description, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 209\n      },\n      __self: this\n    }, \"XXXX\"), React.createElement(Image, {\n      floated: \"right\",\n      size: \"small\",\n      src: \"https://scontent-ort2-2.xx.fbcdn.net/v/t1.15752-9/70880021_751349978649592_7265954774900539392_n.png?_nc_cat=101&_nc_oc=AQn6B5Hc2QHFjLfjzwx8QK_KTfxQXSwEJn6eWDeWtUc5nEU37bRyVKv1v3-ZPPbd7p8&_nc_ht=scontent-ort2-2.xx&oh=9b4a7332352bb07373e20a8830861a35&oe=5E35AB9A\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 210\n      },\n      __self: this\n    }))))), this.props.listlead[0].length > 0 ? React.createElement(Grid.Row, {\n      columns: 1,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 220\n      },\n      __self: this\n    }, React.createElement(Grid.Column, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 221\n      },\n      __self: this\n    }, React.createElement(Table, {\n      sortable: true,\n      selectable: true,\n      celled: true,\n      fixed: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 222\n      },\n      __self: this\n    }, React.createElement(Table.Header, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 223\n      },\n      __self: this\n    }, React.createElement(Table.Row, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 224\n      },\n      __self: this\n    }, React.createElement(Table.HeaderCell, {\n      sorted: column === \"first_name\" ? direction : null,\n      onClick: this.handleSort(\"first_name\"),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 225\n      },\n      __self: this\n    }, \"First Name\"), React.createElement(Table.HeaderCell, {\n      sorted: column === \"last_name\" ? direction : null,\n      onClick: this.handleSort(\"last_name\"),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 231\n      },\n      __self: this\n    }, \"Last Name\"), React.createElement(Table.HeaderCell, {\n      sorted: column === \"position\" ? direction : null,\n      onClick: this.handleSort(\"position\"),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 237\n      },\n      __self: this\n    }, \"Position\"), React.createElement(Table.HeaderCell, {\n      sorted: column === \"company\" ? direction : null,\n      onClick: this.handleSort(\"company\"),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 243\n      },\n      __self: this\n    }, \"Company\"), React.createElement(Table.HeaderCell, {\n      sorted: column === \"status\" ? direction : null,\n      onClick: this.handleSort(\"status\"),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 249\n      },\n      __self: this\n    }, \"Status\"), React.createElement(Table.HeaderCell, {\n      sorted: column === \"next_steps\" ? direction : null,\n      onClick: this.handleSort(\"next_steps\"),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 255\n      },\n      __self: this\n    }, \"Next Steps\"), React.createElement(Table.HeaderCell, {\n      sorted: column === \"last_date_contacted\" ? direction : null,\n      onClick: this.handleSort(\"last_date_contacted\"),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 261\n      },\n      __self: this\n    }, \"Last Date Contacted\"), React.createElement(Table.HeaderCell, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 269\n      },\n      __self: this\n    }, \"Edit Lead\"), React.createElement(Table.HeaderCell, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 270\n      },\n      __self: this\n    }, \"Delete Lead\"))), React.createElement(Table.Body, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 273\n      },\n      __self: this\n    }, _.map(dataSlice, ({\n      id,\n      first_name,\n      last_name,\n      position,\n      company,\n      status,\n      next_steps,\n      last_date_contacted,\n      phone_number,\n      email,\n      comments,\n      comments_date\n    }) => React.createElement(Table.Row, {\n      key: id // onClick={() => this.handleRowClick(id)}\n      ,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 290\n      },\n      __self: this\n    }, React.createElement(Table.Cell, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 294\n      },\n      __self: this\n    }, first_name), React.createElement(Table.Cell, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 295\n      },\n      __self: this\n    }, last_name), React.createElement(Table.Cell, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 296\n      },\n      __self: this\n    }, position), React.createElement(Table.Cell, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 297\n      },\n      __self: this\n    }, company), React.createElement(Table.Cell, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 298\n      },\n      __self: this\n    }, status), React.createElement(Table.Cell, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 299\n      },\n      __self: this\n    }, next_steps), React.createElement(Table.Cell, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 300\n      },\n      __self: this\n    }, last_date_contacted), React.createElement(Table.Cell, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 301\n      },\n      __self: this\n    }, React.createElement(Modal, {\n      trigger: React.createElement(Icon, {\n        name: \"edit outline\",\n        size: \"large\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 305\n        },\n        __self: this\n      }),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 303\n      },\n      __self: this\n    }, React.createElement(Modal.Header, {\n      as: \"h2\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 308\n      },\n      __self: this\n    }, first_name, \" \", last_name, \" \", React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 309\n      },\n      __self: this\n    }), \" \", position ? position + \",\" : null, \" \", company), React.createElement(Modal.Header, {\n      as: \"h3\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 312\n      },\n      __self: this\n    }, phone_number ? \"Phone:\" + phone_number : null, \" Email: \", email, React.createElement(Icon, {\n      name: \"envelope\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 315\n      },\n      __self: this\n    })), React.createElement(Modal.Content, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 319\n      },\n      __self: this\n    }, React.createElement(Form, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 320\n      },\n      __self: this\n    }, React.createElement(Form.Group, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 321\n      },\n      __self: this\n    }, React.createElement(Form.Select, {\n      // fluid\n      onChange: this.handleDropdown,\n      name: \"statusInput\",\n      label: \"Status\",\n      options: statusArray,\n      placeholder: status ? status : \"Select status\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 322\n      },\n      __self: this\n    }), React.createElement(Form.Input, {\n      onChange: this.handleChange,\n      name: \"nextStepsInput\",\n      label: \"Next Steps\",\n      placeholder: next_steps ? next_steps : \"Next steps\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 331\n      },\n      __self: this\n    })), React.createElement(Form.Input, {\n      onChange: this.handleChange,\n      name: \"commentsInput\",\n      control: \"textarea\",\n      rows: \"3\",\n      label: \"Notes\",\n      value: comments ? comments_date + comments : null,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 333\n      },\n      __self: this\n    }), React.createElement(Button, {\n      onClick: () => this.handleAddLeadNote(id),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 334\n      },\n      __self: this\n    }, \"Save\"))))), React.createElement(Table.Cell, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 343\n      },\n      __self: this\n    }, React.createElement(Icon, {\n      name: \"trash alternate outline\",\n      onClick: event => this.handleDeleteClick(event, id),\n      size: \"large\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 344\n      },\n      __self: this\n    }))))), React.createElement(Table.Footer, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 356\n      },\n      __self: this\n    }, React.createElement(Table.Row, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 357\n      },\n      __self: this\n    }, React.createElement(Table.HeaderCell, {\n      colSpan: \"3\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 358\n      },\n      __self: this\n    }, React.createElement(Pagination, {\n      boundaryRange: 0,\n      defaultActivePage: 1,\n      ellipsisItem: \"...\",\n      firstItem: {\n        content: React.createElement(Icon, {\n          name: \"angle double left\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 364\n          },\n          __self: this\n        }),\n        icon: true\n      },\n      lastItem: {\n        content: React.createElement(Icon, {\n          name: \"angle double right\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 368\n          },\n          __self: this\n        }),\n        icon: true\n      },\n      prevItem: {\n        content: React.createElement(Icon, {\n          name: \"angle left\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 372\n          },\n          __self: this\n        }),\n        icon: true\n      },\n      nextItem: {\n        content: React.createElement(Icon, {\n          name: \"angle right\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 376\n          },\n          __self: this\n        }),\n        icon: true\n      },\n      siblingRange: 1,\n      totalPages: 10,\n      onPageChange: (event, {\n        activePage\n      }) => this.handlePageChange(activePage),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 359\n      },\n      __self: this\n    }))))))) : React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 404\n      },\n      __self: this\n    }, React.createElement(Header, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 405\n      },\n      __self: this\n    }, \"You do not have any leads saved under this list.\"), React.createElement(Button, {\n      as: Link,\n      to: \"/search\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 406\n      },\n      __self: this\n    }, \"Go to Search\"))));\n  }\n\n}\n\nconst mapStateToProps = state => {\n  return {\n    lists: state.lists,\n    listlead: state.listlead,\n    auth: state.auth,\n    leadnotes: state.leadnotes\n  };\n}; // const mapDispatchToProps = dispatch => {\n//   return {\n//     deleteList: id => {\n//       dispatch(deleteList(id));\n//     },\n//     deleteListLead: (list_id, lead_id) => {\n//       dispatch(deleteListLead(list_id, lead_id));\n//     },\n//     addLeadNote: (status, nextSteps, userId, leadId, comment) => {\n//       dispatch(addLeadNote(status, nextSteps, userId, leadId, comment))\n//     }\n//   };\n// };\n// export default connect(\n//   mapStateToProps,\n//   mapDispatchToProps\n// )(Dashboard);\n\n\nexport default connect(mapStateToProps, {\n  deleteList,\n  deleteListLead,\n  addLeadNote\n})(Dashboard);","map":{"version":3,"sources":["/Users/gracetan/Development/module-projects/module-five-project/project-prospect-frontend/src/components/LeadList.js"],"names":["React","Component","Grid","Image","Card","Table","Icon","Button","Pagination","Header","Modal","Form","Link","connect","_","Navbar","deleteList","deleteListLead","addLeadNote","statusArray","key","text","value","Dashboard","state","column","data","direction","activePage","statusInput","nextStepsInput","commentsInput","formattedListArray","listArray","props","lists","leads","array","map","lead","oneLead","leadnotes","leadnotesArray","lastLeadnote","slice","console","log","id","propsid","first_name","propsfirst_name","last_name","propslast_name","position","propsposition","company","propscompany","status","next_steps","comments","comments_date","updated_at","last_date_contacted","propscontacted_date","email","propsemail","phone_number","propsphone_number","setState","handleDeleteClick","event","lead_id","preventDefault","newArray","filter","handleSort","clickedColumn","sortBy","reverse","handlePageChange","handleChange","e","targetValue","target","targetName","name","handleDropdown","handleAddLeadNote","leadId","auth","user","componentDidMount","render","dataSlice","height","listlead","length","content","icon","mapStateToProps"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport {\n  Grid,\n  Image,\n  Card,\n  Table,\n  Icon,\n  Button,\n  Pagination,\n  Header,\n  Modal,\n  Form\n} from \"semantic-ui-react\";\nimport { Link } from \"react-router-dom\";\nimport { connect } from \"react-redux\";\nimport _ from \"lodash\";\nimport Navbar from \"./Navbar\";\nimport { deleteList, deleteListLead, addLeadNote } from \"../actions\";\n\nconst statusArray = [\n  {key: \"10\", text: \"Meeting booked\", value: \"Meeting booked\"},\n  {key: \"25\", text: \"Met with decision maker\", value: \"Met with decision maker\"},\n  {key: \"50\", text: \"Proposal sent\", value: \"Proposal sent\"},\n  {key: \"90\", text: \"Verbal confirmation\", value: \"Verbal confirmation\"},\n  {key: \"100\", text: \"Sale closed\", value: \"Sale closed\"},\n  {key: \"notfit\", text: \"Not fit for business\", value: \"Not fit for business\"},\n  {key: \"incorrect\", text: \"Incorrect contact\", value: \"Incorrect contact\"},\n  {key: \"contact\", text: \"Contact at later date\", value: \"Contact at later date\"}\n  ]\n  \nclass Dashboard extends Component {\n  // UPDATE DATA WITH LISTS\n  state = {\n    column: null,\n    data: null,\n    direction: null,\n    activePage: 1,\n    statusInput: \"\",\n    nextStepsInput: \"\",\n    commentsInput: \"\"\n  };\n\n  componentDidMount() {\n    this.formattedListArray();\n  }\n\n\n  formattedListArray = () => {\n    // let listArray = this.props.listlead[0];\n    let listArray = this.props.lists.leads\n    // let leadNotesArray = this.props.leadnotes\n    // let leadnoteArray= lead.leadnotes\n    // let lastLeadnote = leadnoteArray.slice(-1)[0]\n    if (listArray) {\n      // console.log(\"LISTARRAY??\", listArray)\n      let array = listArray.map(lead => {\n        const oneLead = lead.lead\n        if (lead.leadnotes) {\n        const leadnotesArray = lead.leadnotes\n        const lastLeadnote = leadnotesArray.slice(-1)[0]\n        console.log(\"SLICE??\", lastLeadnote)\n          return {\n            id: oneLead.propsid,\n            first_name: oneLead.propsfirst_name,\n            last_name: oneLead.propslast_name,\n            position: oneLead.propsposition,\n            company: oneLead.propscompany,\n            status: lastLeadnote.status,\n            next_steps: lastLeadnote.next_steps,\n            comments: lastLeadnote.comments,\n            comments_date: lastLeadnote.updated_at,\n            last_date_contacted: oneLead.propscontacted_date,\n            email: oneLead.propsemail,\n            phone_number: oneLead.propsphone_number\n          };\n      }\n    });\n    console.log(\"LISTARRAY\", listArray)\n      this.setState({ data: array });\n    }\n  };\n\n  handleDeleteClick = (event, lead_id) => {\n    event.preventDefault()\n    let newArray = this.state.data.filter(data => data.id !== lead_id)\n    this.setState({data: newArray})\n    this.props.deleteList(lead_id)\n    // debugger\n  }\n\n  // handleRowClick = id => {\n  //   console.log(\"row clicked\", id);\n  // };\n\n  handleSort = clickedColumn => () => {\n    const { column, data, direction } = this.state;\n\n    if (column !== clickedColumn) {\n      this.setState({\n        column: clickedColumn,\n        data: _.sortBy(data, [clickedColumn]),\n        direction: \"ascending\"\n      });\n\n      return;\n    }\n\n    this.setState({\n      data: data.reverse(),\n      direction: direction === \"ascending\" ? \"descending\" : \"ascending\"\n    });\n  };\n\n  handlePageChange = activePage => {\n    this.setState({ activePage });\n  };\n\n  handleChange = e => {\n    const targetValue = e.target.value;\n    const targetName = e.target.name;\n    this.setState({ [targetName]: targetValue });\n  };\n\n  handleDropdown = (e, data) => {\n    const targetValue = data.value;\n    this.setState({ statusInput: targetValue });\n  };\n\n  handleAddLeadNote = (leadId) => {\n    console.log(leadId)\n    const { statusInput, nextStepsInput, commentsInput } = this.state\n    this.props.addLeadNote(statusInput, nextStepsInput, this.props.auth.user.id, leadId, commentsInput)\n  }\n  \n  // handleFetchClick = (id) => {\n  //   this.props.thunkFetchLeadNote(this.props.auth.user.id, id)\n  // }\n\n  render() {\n\n    console.log(\"LEADLIST\", this.state)\n    const { column, data, direction, activePage } = this.state;\n    const leadnotesArray = this.props.leadnotes\n\n\n    let dataSlice;\n    if (data) {\n      if (activePage === 1) {\n        dataSlice = data.slice(0, 9);\n      } else if (activePage === 2) {\n        dataSlice = data.slice(10, 19);\n      } else if (activePage === 3) {\n        dataSlice = data.slice(20, 29);\n      } else if (activePage === 4) {\n        dataSlice = data.slice(30, 39);\n      } else if (activePage === 5) {\n        dataSlice = data.slice(40, 49);\n      } else if (activePage === 6) {\n        dataSlice = data.slice(50, 59);\n      } else if (activePage === 7) {\n        dataSlice = data.slice(60, 69);\n      } else if (activePage === 8) {\n        dataSlice = data.slice(70, 79);\n      } else if (activePage === 9) {\n        dataSlice = data.slice(80, 89);\n      } else if (activePage === 10) {\n        dataSlice = data.slice(90, 99);\n      } else {\n        dataSlice = [];\n      }\n      // return dataSlice\n    }\n\n    return (\n      <div style={{ height: \"100%\" }}>\n        <Navbar />\n        <Grid divided=\"vertically\">\n          <Grid.Row columns={3}>\n            <Grid.Column>\n              <Card>\n                <Card.Content>\n                  <Card.Header>Total Leads</Card.Header>\n                  <Card.Description>XXXXXX</Card.Description>\n                  <Image\n                    floated=\"right\"\n                    size=\"small\"\n                    src=\"https://scontent-ort2-2.xx.fbcdn.net/v/t1.15752-9/71382639_511374239440274_5689414491201077248_n.png?_nc_cat=102&_nc_oc=AQmxMPkcSBw3tsH3vtHdty3xBIiwwwo1u58qIFM6JBWKhgr_vArb8fKIvHJeZbUXVHA&_nc_ht=scontent-ort2-2.xx&oh=5ecbfc218c65ca3f290c9e06988b2804&oe=5DF1636E\"\n                  />\n                </Card.Content>\n              </Card>\n            </Grid.Column>\n            <Grid.Column>\n              <Card>\n                <Card.Content>\n                  <Card.Header>Open Leads</Card.Header>\n                  <Card.Description>XXXX</Card.Description>\n                  <Image\n                    floated=\"right\"\n                    size=\"small\"\n                    src=\"https://scontent-ort2-2.xx.fbcdn.net/v/t1.15752-9/71338480_839476829779627_88982982114672640_n.png?_nc_cat=103&_nc_oc=AQlz6riL_5nCn_aFSeq7vrwmHLIvmmoEXuFWQLi-o0ouY9NmTb65RrwrN8grKcefjAc&_nc_ht=scontent-ort2-2.xx&oh=abcf184851a1381d3c1e6f1a2655708f&oe=5DF88CFF\"\n                  />\n                </Card.Content>\n              </Card>\n            </Grid.Column>\n            <Grid.Column>\n              <Card>\n                <Card.Content>\n                  <Card.Header>Another METRIC</Card.Header>\n                  <Card.Description>XXXX</Card.Description>\n                  <Image\n                    floated=\"right\"\n                    size=\"small\"\n                    src=\"https://scontent-ort2-2.xx.fbcdn.net/v/t1.15752-9/70880021_751349978649592_7265954774900539392_n.png?_nc_cat=101&_nc_oc=AQn6B5Hc2QHFjLfjzwx8QK_KTfxQXSwEJn6eWDeWtUc5nEU37bRyVKv1v3-ZPPbd7p8&_nc_ht=scontent-ort2-2.xx&oh=9b4a7332352bb07373e20a8830861a35&oe=5E35AB9A\"\n                  />\n                </Card.Content>\n              </Card>\n            </Grid.Column>\n          </Grid.Row>\n          {this.props.listlead[0].length > 0 ? (\n            <Grid.Row columns={1}>\n              <Grid.Column>\n                <Table sortable selectable celled fixed>\n                  <Table.Header>\n                    <Table.Row>\n                      <Table.HeaderCell\n                        sorted={column === \"first_name\" ? direction : null}\n                        onClick={this.handleSort(\"first_name\")}\n                      >\n                        First Name\n                      </Table.HeaderCell>\n                      <Table.HeaderCell\n                        sorted={column === \"last_name\" ? direction : null}\n                        onClick={this.handleSort(\"last_name\")}\n                      >\n                        Last Name\n                      </Table.HeaderCell>\n                      <Table.HeaderCell\n                        sorted={column === \"position\" ? direction : null}\n                        onClick={this.handleSort(\"position\")}\n                      >\n                        Position\n                      </Table.HeaderCell>\n                      <Table.HeaderCell\n                        sorted={column === \"company\" ? direction : null}\n                        onClick={this.handleSort(\"company\")}\n                      >\n                        Company\n                      </Table.HeaderCell>\n                      <Table.HeaderCell\n                        sorted={column === \"status\" ? direction : null}\n                        onClick={this.handleSort(\"status\")}\n                      >\n                        Status\n                      </Table.HeaderCell>\n                      <Table.HeaderCell\n                        sorted={column === \"next_steps\" ? direction : null}\n                        onClick={this.handleSort(\"next_steps\")}\n                      >\n                        Next Steps\n                      </Table.HeaderCell>\n                      <Table.HeaderCell\n                        sorted={\n                          column === \"last_date_contacted\" ? direction : null\n                        }\n                        onClick={this.handleSort(\"last_date_contacted\")}\n                      >\n                        Last Date Contacted\n                      </Table.HeaderCell>\n                      <Table.HeaderCell>Edit Lead</Table.HeaderCell>\n                      <Table.HeaderCell>Delete Lead</Table.HeaderCell>\n                    </Table.Row>\n                  </Table.Header>\n                  <Table.Body>\n                    {_.map(\n                      dataSlice,\n                      ({\n                        id,\n                        first_name,\n                        last_name,\n                        position,\n                        company,\n                        status,\n                        next_steps,\n                        last_date_contacted,\n                        phone_number,\n                        email,\n                        comments,\n                        comments_date\n                      }) => (\n                        <Table.Row\n                          key={id}\n                          // onClick={() => this.handleRowClick(id)}\n                        >\n                          <Table.Cell>{first_name}</Table.Cell>\n                          <Table.Cell>{last_name}</Table.Cell>\n                          <Table.Cell>{position}</Table.Cell>\n                          <Table.Cell>{company}</Table.Cell>\n                          <Table.Cell>{status}</Table.Cell>\n                          <Table.Cell>{next_steps}</Table.Cell>\n                          <Table.Cell>{last_date_contacted}</Table.Cell>\n                          <Table.Cell>\n                            {/* {leadnotesArray.find(lead => )} */}\n                            <Modal\n                              trigger={\n                                <Icon name={\"edit outline\"} size=\"large\" />\n                              }\n                            >\n                              <Modal.Header as=\"h2\">\n                                {first_name} {last_name} <br />{\" \"}\n                                {position ? position + \",\" : null} {company}\n                              </Modal.Header>\n                              <Modal.Header as=\"h3\">\n                                {phone_number ? \"Phone:\" + phone_number : null} Email: {email} \n                  \n                                <Icon name={\"envelope\"}></Icon>\n                              </Modal.Header>\n                              {/* <Modal.Header as='h3'>{position}, {company}</Modal.Header> */}\n                \n                                <Modal.Content>\n                                  <Form>\n                                    <Form.Group>\n                                      <Form.Select\n                                        // fluid\n                                        onChange={this.handleDropdown}\n                                        name=\"statusInput\"\n                                        label=\"Status\"\n                                        options={statusArray}\n                                        placeholder={status ? status : \"Select status\"}\n                                      />\n                                      {/* <Form.Header>Next Steps</Form.Header> */}\n                                      <Form.Input onChange={this.handleChange} name=\"nextStepsInput\" label=\"Next Steps\" placeholder={next_steps ? next_steps : \"Next steps\"}></Form.Input>\n                                    </Form.Group>\n                                    <Form.Input onChange={this.handleChange} name=\"commentsInput\" control='textarea' rows='3' label=\"Notes\" value={ comments ? comments_date + comments : null } />\n                                    <Button onClick={() => this.handleAddLeadNote(id)}>Save</Button>\n                                    {/* <Form.Description></Form.Description> */} \n                                  </Form>\n                                </Modal.Content>\n                    \n                              \n                            </Modal>\n              \n                          </Table.Cell>\n                          <Table.Cell>\n                            <Icon\n                              name={\"trash alternate outline\"}\n                              onClick={event =>\n                                this.handleDeleteClick(event, id)\n                              }\n                              size=\"large\"\n                            />\n                          </Table.Cell>\n                        </Table.Row>\n                      )\n                    )}\n                  </Table.Body>\n                  <Table.Footer>\n                    <Table.Row>\n                      <Table.HeaderCell colSpan=\"3\">\n                        <Pagination\n                          boundaryRange={0}\n                          defaultActivePage={1}\n                          ellipsisItem={\"...\"}\n                          firstItem={{\n                            content: <Icon name=\"angle double left\" />,\n                            icon: true\n                          }}\n                          lastItem={{\n                            content: <Icon name=\"angle double right\" />,\n                            icon: true\n                          }}\n                          prevItem={{\n                            content: <Icon name=\"angle left\" />,\n                            icon: true\n                          }}\n                          nextItem={{\n                            content: <Icon name=\"angle right\" />,\n                            icon: true\n                          }}\n                          siblingRange={1}\n                          totalPages={10}\n                          onPageChange={(event, { activePage }) =>\n                            this.handlePageChange(activePage)\n                          }\n                        />\n                        {/* <Menu floated=\"right\" pagination>\n                  <Menu.Item as=\"a\" icon>\n                    <Icon name=\"chevron left\" />\n                  </Menu.Item>\n                  <Menu.Item as=\"a\">1</Menu.Item>\n                  <Menu.Item as=\"a\">2</Menu.Item>\n                  <Menu.Item as=\"a\">3</Menu.Item>\n                  <Menu.Item as=\"a\">4</Menu.Item>\n                  <Menu.Item as=\"a\" icon>\n                    <Icon name=\"chevron right\" />\n                  </Menu.Item>\n                </Menu> */}\n                      </Table.HeaderCell>\n                    </Table.Row>\n                  </Table.Footer>\n                </Table>\n              </Grid.Column>\n            </Grid.Row>\n          ) : (\n            <div>\n              <Header>You do not have any leads saved under this list.</Header>\n              <Button as={Link} to=\"/search\">\n                Go to Search\n              </Button>\n            </div>\n          )}\n        </Grid>\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = state => {\n  return {\n    lists: state.lists,\n    listlead: state.listlead,\n    auth: state.auth,\n    leadnotes: state.leadnotes\n  };\n};\n\n// const mapDispatchToProps = dispatch => {\n//   return {\n//     deleteList: id => {\n//       dispatch(deleteList(id));\n//     },\n//     deleteListLead: (list_id, lead_id) => {\n//       dispatch(deleteListLead(list_id, lead_id));\n//     },\n//     addLeadNote: (status, nextSteps, userId, leadId, comment) => {\n//       dispatch(addLeadNote(status, nextSteps, userId, leadId, comment))\n//     }\n//   };\n// };\n\n// export default connect(\n//   mapStateToProps,\n//   mapDispatchToProps\n// )(Dashboard);\n\nexport default connect(\n  mapStateToProps,\n  {deleteList, deleteListLead, addLeadNote}\n)(Dashboard);\n"]},"metadata":{},"sourceType":"module"}